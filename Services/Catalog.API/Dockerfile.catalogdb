FROM postgres:16

ARG BUILD_POSTGRES_DB 
ARG BUILD_POSTGRES_USER 
ARG BUILD_POSTGRES_PASSWORD

ENV POSTGRES_DB=${BUILD_POSTGRES_DB}
ENV POSTGRES_USER=${BUILD_POSTGRES_USER}
ENV POSTGRES_PASSWORD=${BUILD_POSTGRES_PASSWORD}

HEALTHCHECK --interval=30s --timeout=30s --start-period=5s --retries=3 CMD pg_isready -U ${POSTGRES_USER} -d ${POSTGRES_DB} || exit 1
